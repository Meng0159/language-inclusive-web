generator clientEvents {
  provider        = "prisma-client-js"
  output          = "../node_modules/@prisma/client-community"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  directUrl = env("DATABASE_URL_UNPOOLED")
}

model Venue {
  venue_id        String  @id
  venue_name      String
  venue_address   String
  venue_city      String
  venue_latitude  Float
  venue_longitude Float
  venue_postcode  Int
  events          Event[] @relation("VenueEvents")

}

model Category {
  category_id   String  @id
  category_name String
  events        Event[] @relation("CategoryEvents")

}

model Organizer {
  organizer_id   String  @id
  organizer_name String
  organizer_url  String
  events         Event[] @relation("OrganizerEvents")

}

model Logo {
  logo_id           BigInt  @id
  logo_url          String
  logo_width        Int
  logo_height       Int
  logo_aspect_ratio Float
  events            Event[] @relation("LogoEvents")

}

model Event {
  event_id                     String     @id
  event_name                   String
  event_description            String
  start_datetime               DateTime
  end_datetime                 DateTime
  event_summary                String
  category_id                  String?
  organizer_id                 String?
  venue_id                     String?
  logo_id                      BigInt?
  event_status                 String
  event_url                    String?
  is_free_event                Boolean
  community_friendly           Boolean
  predicted_community_friendly Boolean
  category                     Category?  @relation("CategoryEvents", fields: [category_id], references: [category_id])
  logo                         Logo?      @relation("LogoEvents", fields: [logo_id], references: [logo_id])
  organizer                    Organizer? @relation("OrganizerEvents", fields: [organizer_id], references: [organizer_id])
  venue                        Venue?     @relation("VenueEvents", fields: [venue_id], references: [venue_id])
  websites                     Website[]

}

model Website {
  event_url String @id
  event_id  String
  event     Event  @relation(fields: [event_id], references: [event_id])

}

